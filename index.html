<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>GLnexus: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GLnexus
   </div>
   <div id="projectbrief">Scalable datastore for population genome sequencing, with on-demand joint genotyping</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">GLnexus Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>From DNAnexus R&amp;D: a scalable datastore for population genome sequencing, with on-demand joint genotyping.</b> (GL, genotype likelihood)</p>
<p>This is an early-stage R&amp;D project we're developing openly. The code doesn't yet do anything useful! There's a <a href="https://github.com/dnanexus-rnd/GLnexus/wiki">wiki project roadmap</a>, which should be read in the spirit of "plans are worthless, but planning is insdispensable."</p>
<h3>Build &amp; run tests</h3>
<p><a href="https://travis-ci.org/dnanexus-rnd/GLnexus"></a> <a href="https://coveralls.io/github/dnanexus-rnd/GLnexus?branch=master">![Coverage Status](https://coveralls.io/repos/dnanexus-rnd/GLnexus/badge.svg?branch=master&amp;service=github)</a></p>
<p>First <a href="http://askubuntu.com/a/581497">install gcc 4.9</a>, <code>cmake</code>, <code>libjemalloc-dev</code>, <code>libboost-dev</code>, <code>libzip-dev</code>, <code>libsnappy-dev</code>, <code>liblz4-dev</code>, <code>libbz2-dev</code>. Then:</p>
<p>``` cmake -Dtest=ON . &amp;&amp; make &amp;&amp; ./unit_tests ```</p>
<p>Other dependencies (should be set up automatically by CMake):</p><ul>
<li><a href="https://github.com/samtools/htslib">htslib</a></li>
<li><a href="https://github.com/facebook/rocksdb">rocksdb</a></li>
<li><a href="https://github.com/jbeder/yaml-cpp">yaml-cpp</a></li>
<li><a href="https://github.com/philsquared/Catch">Catch</a> test framework</li>
</ul>
<h3>Developer documentation</h3>
<p>Evolving developer documentation can be found on the <a href="http://dnanexus-rnd.github.io/GLnexus/index.html">project github page</a>.</p>
<h3>Coding conventions</h3>
<ul>
<li>C++14 - take advantage of <a href="http://shop.oreilly.com/product/0636920033707.do">the goodies</a></li>
<li>Use smart pointers to avoid passing resources needing manual deallocation across function/class boundaries</li>
<li>Prefer references over pointers when they shouldn't be null nor change ever.</li>
<li>Avoid exceptions; prefer returning a <code>Status</code>, defined early in <a href="https://github.com/dnanexus-rnd/GLnexus/blob/master/include/types.h">types.h</a><ul>
<li>nb the frequently-used convenience macro <code>S()</code> defined just below <code>Status</code></li>
</ul>
</li>
<li>Avoid public constructors with nontrivial bodies; prefer static initializer function returning <code>Status</code></li>
<li>Avoid elaborate templated class hierarchies</li>
</ul>
<h3>How to do performance profiling</h3>
<p>In order to do performance profiling on the code, you need to compile it with special c++ flags. This can be done as follows: ``` cmake -Dtest=ON -DCMAKE_BUILD_TYPE=Profile . ```</p>
<p>Running the glnexus_cli applet produces several outputs, one of which is a file called <code>genotype.stacks</code>. It contains a list of common call stacks executed by the glnexus code, download it to your local machine. To manipulate this file, please install the FlameGraphs package. Here is an example for generating an SVG graph from the run results:</p>
<p>``` git clone <a href="https://github.com/brendangregg/FlameGraph">https://github.com/brendangregg/FlameGraph</a> grep glnexus genotype.stacks &gt; X FlameGraph/flamegraph.pl &ndash;minwidth 0.5 X &gt; genotype.svg ```</p>
<p>Documentation Last Updated:Sat Oct 24 23:08:52 UTC 2015 </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
